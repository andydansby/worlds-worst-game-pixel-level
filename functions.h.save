#ifndef FUNCTIONS_H
#define FUNCTIONS_H

//-----------------------------------------------------------------------
//	obsolete routines
//-----------------------------------------------------------------------

void print_enemy_location_array (void)
{
	extern unsigned int LEVEL_1_ENEMIES_LOCATIONS;
	pointerAddy = &LEVEL_1_ENEMIES_LOCATIONS;//address of pointer
	//enemies_per_level =  memory_bpeek(pointerAddy);	//how many enemies in array

	for (temp1 = 0; temp1 < enemies_per_level; temp1 ++)
	{
		printf("enemy_locations Struct Members\n");

		printf("%d\n", enemy_locations[temp1].x_desp);
		printf("%d\n", enemy_locations[temp1].x);
		printf("%d\n", enemy_locations[temp1].y);
		printf("%d\n", enemy_locations[temp1].sprnum);
		printf("%d\n", enemy_locations[temp1].movement);
		printf("%d\n", enemy_locations[temp1].energy);
		printf("%d\n", enemy_locations[temp1].param1);
		printf("%d\n", enemy_locations[temp1].param2);

		printf("Array number %d\n", temp1);
		printf("\nPress a key\n");
	}
}



void search_near_to_player (void)
{
	//#define memory_bpeek(a)    (*(unsigned char *)(a))
	//player_x_position  = where the player is
	extern unsigned int LEVEL_1_ENEMIES_LOCATIONS;
	pointerAddy = &LEVEL_1_ENEMIES_LOCATIONS;//address of pointer
	//enemies_per_level =  memory_bpeek(pointerAddy);

	playerLow = player_x_position - 2;
	playerHigh = player_x_position + 2;

	if (playerLow < 0)
		playerLow = 0;
	if (playerHigh > 254)
		playerHigh = 254;
}


//-----------------------------------------------------------------------
//	obsolete routines
//-----------------------------------------------------------------------

//-----------------------------------------------------------------------
//	other routines
//-----------------------------------------------------------------------

//keep
void pauseWipe (void)
{
	in_wait_key();
	in_pause(100);
	zx_cls(INK_BLACK | PAPER_WHITE);
	puts("\x16\x01\x02");
}

// returns values from 1 to 255 inclusive, period is 255
unsigned char xorshift8(void) {
    y8 ^= (y8 << 7);
    y8 ^= (y8 >> 5);
    return y8 ^= (y8 << 3);
}


unsigned int timer (void)
{
	clock_1 = memory_bpeek(23672);
	clock_2 = memory_bpeek(23673);
	clock_3 = memory_bpeek(23674);
	clock_4 = (65535*clock_3+256*clock_2+clock_1)/50;
	return clock_4;
}

//-------------------------------------------------------------
//	other routines
//-------------------------------------------------------------

void player_start_location (void)
{
	printf("Enter in player start location    0 - 254    ");
	fgets(arrayInput,sizeof(arrayInput),stdin);
	playerStart = atoi(arrayInput);
	printf("\n");
	in_pause(600);
}

//keep
void fill_enemy_location_array (void)
{
	extern unsigned int LEVEL_1_ENEMIES_LOCATIONS;
	pointerAddy = &LEVEL_1_ENEMIES_LOCATIONS;//address of pointer

	//enemies_per_level =  memory_bpeek(pointerAddy);
	//intrinsic_label(enemies_per_level_results);

	enemies_per_level = memory_bpeek(pointerAddy);

	pointerAddy ++;

	for (temp1 = 0; temp1 < enemies_per_level; temp1 ++)
	{
	    enemy_locations[temp1].x_desp   = memory_bpeek(pointerAddy);
		pointerAddy ++;
		enemy_locations[temp1].x        = memory_bpeek(pointerAddy);
		pointerAddy ++;
		enemy_locations[temp1].y        = memory_bpeek(pointerAddy);
		pointerAddy ++;
		enemy_locations[temp1].sprnum   = memory_bpeek(pointerAddy);
		pointerAddy ++;
		enemy_locations[temp1].movement	= memory_bpeek(pointerAddy);
		pointerAddy ++;
		enemy_locations[temp1].energy   = memory_bpeek(pointerAddy);
		pointerAddy ++;
		enemy_locations[temp1].param1   = memory_bpeek(pointerAddy);
		pointerAddy ++;
		enemy_locations[temp1].param2   = memory_bpeek(pointerAddy);
		pointerAddy ++;
	}
}


//very close
void search_enemy_array (void)
{
    temp1 = player_x_position - 1;
	temp2 = 0;//no more than 6 entries
	temp3 = 0;

	playerLow = player_x_position;
	playerHigh = player_x_position + NEAR_PLAYER;

	if (playerHigh > MAX_PLAYER_POS)
		playerHigh = MAX_PLAYER_POS;

    //while (temp2 < playerHigh )
    //while (temp1 < playerHigh )nope
	while (temp2 < playerHigh )
	{
		temp3 = enemy_locations[temp1].x_desp;

		if(temp3 > playerHigh)
		    return;
        if (temp3 < )

		if (temp3 == 0)
		{	temp1 ++;}//to bypass deleted baddies

		/*printf("\ntemp1 = %d", temp1);
		printf("     temp2 = %d", temp2);
		printf("     temp3 = %d", temp3);*/

		printf("%d    ", enemy_locations[temp1].x_desp);
		printf("%d    ", enemy_locations[temp1].x);
		printf("%d    ", enemy_locations[temp1].y);
		printf("%d    ", enemy_locations[temp1].sprnum);
		printf("%d    ", enemy_locations[temp1].movement);
		printf("%d    ", enemy_locations[temp1].energy);
		printf("%d    ", enemy_locations[temp1].param1);
		printf("%d    ", enemy_locations[temp1].param2);
		printf("\n");

		//enemy_locations[temp1].x;
		//enemy_locations[temp1].x_desp;
		//enemy_locations[temp1].y;
		//enemy_locations[temp1].sprnum;
		//enemy_locations[temp1].movement;
		//enemy_locations[temp1].energy;
		//enemy_locations[temp1].param1;
		//enemy_locations[temp1].param2;

		//
        //defb 01, 11, 10, 1, bob, 01, $aa, 00;0
        //defb 02, 12, 20, 2, bob, 02, $aa, 01;1
        //defb 03, 13, 30, 3, bob, 03, $aa, 02;2
        //defb 04, 14, 40, 4, bob, 04, $aa, 03;3
        //defb 05, 15, 50, 5, bob, 05, $aa, 04;4
        //defb 05, 16, 60, 5, bob, 05, $aa, 05;5
        //defb 06, 17, 70, 6, bob, 06, $aa, 06;6
        //defb 07, 18, 80, 7, bob, 07, $aa, 07;7
        //defb 08, 19, 90, 9, bob, 08, $aa, 08;8
        //defb 09, 19, 99, 9, bob, 09, $fe, 09;9
        ////////////////////////////////////////////////
        //defb $ff, $ff, 80, 2, bob, 10, $ff, $ff
        // dummy enemy, to mark the end

		temp1 ++;//44046
		//++ temp1;//44051

		temp2 ++;//44046
		//++ temp2;//44048
	}
}


void print_enemy_array (void)
{
	printf("\nEnemy Array\n");

	for (temp1 = 0; temp1 < MAX_ENEMIES_ON_SCREEN; ++ temp1)
	{
			printf("%d)---", temp1);

			printf("%d    ", enemy_locations[temp1].x_desp);
			printf("%d    ", enemy_locations[temp1].x);

			printf("%d    ", enemy_locations[temp1].y);
			printf("%d    ", enemy_locations[temp1].sprnum);
			printf("%d    ", enemy_locations[temp1].movement);
			printf("%d    ", enemy_locations[temp1].energy);
			printf("%d    ", enemy_locations[temp1].param1);
			printf("%d    ", enemy_locations[temp1].param2);
			//wherefrom
			printf("\n");
			//printf("----------------------------------------------------\n");
	}
	//printf("\n\nPress a Key");
}





void purge_baddies_array (void)
{
	for (temp1 = 0; temp1 < MAX_ENEMIES_ON_SCREEN; temp1 ++)
	{
		//clean baddies array
		baddies[temp1].x_desp = 0;
		baddies[temp1].x = 0;
		baddies[temp1].y = 0;
		baddies[temp1].sprnum = 0;
		baddies[temp1].movement = 0;
		baddies[temp1].energy = 0;
		baddies[temp1].param1 = 0;
		baddies[temp1].param2 = 0;
		baddies[temp1].wherefrom = 0;
	}
}


void fill_baddies_array(void)
{
	temp2 = 0;//no more than 6 entries
	temp1 = player_x_position -1;

	playerLow = player_x_position;
	playerHigh = player_x_position + NEAR_PLAYER;

	if (playerHigh > MAX_PLAYER_POS)
		playerHigh = MAX_PLAYER_POS;

	while (temp2 < MAX_ENEMIES_ON_SCREEN )
	{
		temp3 = enemy_locations[temp1].x;

		if(temp3 > playerHigh)
		{	break;}//if out of range

		if (temp3 == 0)
		{	temp1 ++;}//to bypass deleted baddies

		/*printf("\ntemp1 = %d", temp1);
		printf("     temp2 = %d", temp2);
		printf("     temp3 = %d", temp3);*/

		//copy to baddies struct
		baddies[temp2].x_desp = enemy_locations[temp1].x_desp;
		baddies[temp2].x = enemy_locations[temp1].x;
		baddies[temp2].y = enemy_locations[temp1].y;
		baddies[temp2].sprnum = enemy_locations[temp1].sprnum;
		baddies[temp2].movement = enemy_locations[temp1].movement;
		baddies[temp2].energy = enemy_locations[temp1].energy;
		baddies[temp2].param1 = enemy_locations[temp1].param1;
		baddies[temp2].param2 = enemy_locations[temp1].param2;
		baddies[temp2].wherefrom = temp1;

		temp1 ++;//44046
		//++ temp1;//44051

		temp2 ++;//44046
		//++ temp2;//44048
	}
}


void print_baddies_array (void)
{
	printf("\nBaddies Array\n");

	for (temp1 = 0; temp1 < MAX_ENEMIES_ON_SCREEN; ++ temp1)
	{
			printf("%d)---", temp1);

			printf("%d    ", baddies[temp1].x_desp);
			printf("%d    ", baddies[temp1].x);
			printf("%d    ", baddies[temp1].y);
			printf("%d    ", baddies[temp1].sprnum);
			//printf("\n");
			printf("%d    ", baddies[temp1].movement);
			printf("%d    ", baddies[temp1].energy);
			printf("%d    ", baddies[temp1].param1);
			printf("%d    ", baddies[temp1].param2);
			printf("%d    ", baddies[temp1].wherefrom);
			//wherefrom
			printf("\n");
			//printf("----------------------------------------------------\n");
	}
	//printf("\n\nPress a Key");
}

void auto_enemy_to_delete (void)
{
	enemyToDelete = decision;

	//tag baddy entry
	baddies[enemyToDelete].x_desp	= 0;
	baddies[enemyToDelete].x = 0;//<---
	baddies[enemyToDelete].y = 0;
	baddies[enemyToDelete].sprnum = MAX_U_CHAR;
	baddies[enemyToDelete].movement = 0;
	baddies[enemyToDelete].energy = 0;
	baddies[enemyToDelete].param1 = 0;
	baddies[enemyToDelete].param2 = 0;
}


void enter_enemy_to_delete (void)
{
	//unsigned int arrayInput[5];
	enemyToDelete = 254;
	printf("--------------------------------------------------\n");
	printf("Enter in enemy to kill    0 - 5    Enter = none  ");
	//fgets(arrayInput,sizeof(arrayInput),stdin);
	printf("\n-------------------------------- ------------------\n");
	gets(arrayInput);

	in_wait_nokey();

	if (strlen(arrayInput) == 0)
	{
		printf("\nNone selected \n");
		enemyToDelete = MAX_U_CHAR;
		printf("\n NONE Selected for removal \n");
   }
	else
   {
		enemyToDelete = atoi(arrayInput);
		printf("\n Variable enemyToDelete = %d", enemyToDelete);
		printf("\n %d Selected for removal \n", baddies[enemyToDelete].x);
   }

	in_pause(500);

/*
	//tag baddy entry
	baddies[enemyToDelete].x_desp	= 0;
	baddies[enemyToDelete].x = 0;//<---
	baddies[enemyToDelete].y = 0;
	baddies[enemyToDelete].sprnum = MAX_U_CHAR;
	baddies[enemyToDelete].movement = 0;
	baddies[enemyToDelete].energy = 0;
	baddies[enemyToDelete].param1 = 0;
	baddies[enemyToDelete].param2 = 0;
	//enemyToDelete = baddies[enemyToDelete].wherefrom;
*/

}




//enemy_locations is large array
void clean_enemy_array (void)
{
	for (temp1 = 0; temp1 < MAX_ENEMIES_ON_SCREEN; ++ temp1)
	{
		if (indexToDelete[temp1] != MAX_U_CHAR)
		{
			enemyToDelete = indexToDelete[temp1];

			enemy_locations[enemyToDelete].x_desp	= 0;
			enemy_locations[enemyToDelete].x = 0;
			enemy_locations[enemyToDelete].y = 0;
			enemy_locations[enemyToDelete].sprnum = 0;
			enemy_locations[enemyToDelete].movement = 0;
			enemy_locations[enemyToDelete].energy = 0;
			enemy_locations[enemyToDelete].param1 = 0;
			enemy_locations[enemyToDelete].param2 = 0;
		}
	}
}


void print_entire_enemy_array (void)
{
	printf("\nPress x to quit\n\n");
	for (temp1 = 0; temp1 < MAX_ENEMIES; ++ temp1)
	{
		printf("%d)---", temp1);

		printf("%d    ", enemy_locations[temp1].x_desp);
		printf("%d    ", enemy_locations[temp1].x);
		printf("%d    ", enemy_locations[temp1].y);
		printf("%d    ", enemy_locations[temp1].sprnum);
			//printf("\n");
		printf("%d    ", enemy_locations[temp1].movement);
		printf("%d    ", enemy_locations[temp1].energy);
		printf("%d    ", enemy_locations[temp1].param1);
		printf("%d    ", enemy_locations[temp1].param2);
		printf("\n");

		if (in_key_pressed( IN_KEY_SCANCODE_x ))
		{
			break;
		}
	}
	printf("\nPress ENTER\n");
	in_wait_nokey();
}


void print_delete_index (void)
{
	temp2 = 0;
	temp3 = 0;

	printf("\n");

	for (temp1 = 0; temp1 < MAX_ENEMIES_ON_SCREEN; ++ temp1)
	{
		printf("%d ) indexed entry %d\n", temp1, indexToDelete[temp1]);

		if (indexToDelete[temp1] == MAX_U_CHAR )
		{
			temp2 ++;
		}
		else
		{
			temp3 ++;
		}
	}

	printf("number of entries %d\n", temp3);
}

void print_arrays (void)
{
	printf("\n1 for the entire enemy array\n2 for the baddies array\n3 for the delete index\nPress ENTER for next");
	while (1)
	{
		if (in_key_pressed( IN_KEY_SCANCODE_1 ))
		{
			zx_cls(INK_BLACK | PAPER_WHITE);
			puts("\x16\x01\x02");
			print_entire_enemy_array();
			printf("\n1 for the entire enemy array\n2 for the baddies array\n3 for the delete index\nPress ENTER for next");
		}
		if (in_key_pressed( IN_KEY_SCANCODE_2 ))
		{
			zx_cls(INK_BLACK | PAPER_WHITE);
			puts("\x16\x01\x02");
			print_baddies_array();
			printf("\n1 for the entire enemy array\n2 for the baddies array\n3 for the delete index\nPress ENTER for next");
		}
		if (in_key_pressed( IN_KEY_SCANCODE_3 ))
		{
			zx_cls(INK_BLACK | PAPER_WHITE);
			puts("\x16\x01\x02");
			print_delete_index();
			printf("\n1 for the entire enemy array\n2 for the baddies array\n3 for the delete index\nPress ENTER for next");
		}
			//print_delete_index
		if (in_key_pressed( IN_KEY_SCANCODE_ENTER ))
		{
			zx_cls(INK_BLACK | PAPER_WHITE);
			puts("\x16\x01\x02");
			break;
		}
	}
	in_wait_nokey();
}



#endif
//leave blank line after


